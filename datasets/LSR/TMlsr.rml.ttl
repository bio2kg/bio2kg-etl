@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@prefix fnml: <http://semweb.mmlab.be/ns/fnml#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix fno: <http://w3id.org/function/ontology#> .
@prefix sql: <http://dchaves.oeg-upm.net/resources/function/sql.ttl#> .
@prefix bv: <http://bio2rdf.org/bio2rdf_vocabulary:> .
@prefix lsrv: <http://bio2rdf.org/lsr_vocabulary:> .
@prefix dctypes: <http://purl.org/dc/dcmitype/> .
@prefix idot: <http://identifiers.org/idot/> .
@prefix void: <http://rdfs.org/ns/void#> .
@prefix cito: <http://purl.org/spar/cito/> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .

	rr:subjectMap [
		a rr:Subject;
		rr:termType rr:IRI;
		rr:class lsrv:Resource;
		rr:class dctypes:Dataset;
		rr:class lsrv:Dataset;
		rr:template "http://bio2rdf.org/lsr:{Preferred_Prefix}";
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant rdfs:label ];
		rr:objectMap	[ rr:termType rr:Literal; rr:template "{Title} [lsr:{Preferred_Prefix}]"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant dcterms:title ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "Title"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant dcterms:identifier ];
		rr:objectMap	[ rr:termType rr:Literal; rr:template "lsr:{Preferred_Prefix}"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant dcterms:description ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "Description"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant idot:preferredPrefix ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "Preferred_Prefix"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant idot:alternativePrefix ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "Alt-prefix"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant void:uriRegexPattern ];
		rr:objectMap	[ rr:termType rr:IRI; rml:reference "Provider_Base_URI"; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant void:uriRegexPattern ];
		rr:objectMap	[ rr:termType rr:IRI; rml:reference "Alternative_Base_URI"; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant lsrv:x-biodbcore ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "BiodbcoreID"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant lsrv:x-bioportal ];
		rr:objectMap	[ rr:termType rr:Literal; rr:template "bioportal:{BioPortal_Ontology_ID}"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant lsrv:x-datahub ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "thedatahub"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant cito:citesAsAuthority ];
		rr:objectMap	[ rr:termType rr:IRI; rr:template "http://bio2rdf.org/pudmed:{PubMedID}"; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant dcterms:alternative ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "Abbreviation"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant dcterms:publisher ];
		rr:objectMap	[
			rr:parentTriplesMap <TMlsr2>;
			rr:joinCondition [ rr:child "Organization"; rr:parent "Organization"; ];
		];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant lsrv:type ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "Type(warehouse,dataset,terminology)"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant dcat:keyword ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "Keywords"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant foaf:page ];
		rr:objectMap	[ rr:termType rr:IRI; rml:reference "Homepage"; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant dcterms:license ];
		rr:objectMap	[ rr:termType rr:IRI; rml:reference "License_URL"; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant lsrv:license-text ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "License_Text"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant dcterms:rights ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "Rights"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant idot:identifierPattern ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "ID_regex"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant idot:exampleIdentifier ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "ExampleID"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant idot:accessPattern ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "Provider_HTML_URL"; rr:datatype xsd:string; ];
	];

.


<TMlsr2>

	rml:logicalSource [
		rml:source "http://tinyurl.com/lsregistry" ;
		rml:referenceFormulation ql:CSV ;
	];

	rr:subjectMap [
		a rr:Subject;
		rr:termType rr:IRI;
		rr:class lsrv:Resource;
		rr:template "http://bio2rdf.org/lsr_resource:{Organization}";
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant dcterms:title ];
		rr:objectMap	[ rr:termType rr:Literal; rml:reference "Organization"; rr:datatype xsd:string; ];
	];

	rr:predicateObjectMap [
		rr:predicateMap	[ rr:constant dcterms:identifier ];
		rr:objectMap	[ rr:termType rr:Literal; rr:template "lsr_resource:{Organization}"; rr:datatype xsd:string; ];
	];

.


